# DACON_pred_eatable

DACON 구내식당 식수 인원 예측 AI 경진대회 document

# Data
### Raw data
Train data : 2016-02-01\~2021-01-26 사이의 한국토지주택공사 구내식당 데이터  
Test data : 2021-01-27\~2021-04-09 사이의 한국토지주택공사 구내식당 데이터  
### 외부 data
- 진주시 진주시 하대동 시간당 강우량  
- 기온  
- 코로나 확진자  
- 에어코리아 미세먼지  
- 식품의약품안전처 식품영양성분 DB  

# Feature
- 본사의 식사 가능 인원을 계산하여 단일한 feature로 병합했다.
- 중, 석식에 큰 영향을 미치지 않는 조식 메뉴 column를 제거했다.
- 시계열 데이터를 요일 데이터인 명목척도로 바꾸었다.
- EDA를 통해 수요일의 문화의 날과 큰 연휴 전날에 식사량이 크게 줄어드는 걸 확인했다.
- 날씨가 큰 영향을 끼치기 때문에, 강우량, 기온, 미세먼지에 대한 시계열 데이터를 포함했다. 기온은 구간척도, 강우량과 미세먼지는 비율척도로 사용했다.
- Train data와 test data에 covid-19의 영향이 모두 포함되어서 covid-19 확진자 수를 추가했다. : 확진자 수나 사회적 거리두기 단계에 식수가 민감하게 반응할 수 있음.

# ETC.
### 특이점
- 점심은 예측 오차가 크다, 저녁은 예측 오차가 적다.
- 저녁은 50정도 점심은 70~80
- 코로나 확진자수로만 feature를 잡았는데, 사람들이 둔감해지는 점, 거리두기가 새로 발효된 점에 착안한다면 거리두기 단계나 다른 feature를 생각하는 게 맞을 수 있다. 회사가 있는 경남 지역의 확진자 수만 보는 것도 고려 가능.
- 당일 강우량으로 feature를 선정했다가, 점심식사 전후의 시간당 강우량 데이터를 확보하는 게 더 예측에 어울리다고 판단하여 점심강수량 feature를 추가했다.
- 미세먼지도 외출에 영향을 많이 끼치기 때문에 고려 대상이었다. 하지만 미세먼지 수치를 연속형 데이터가 아닌 범주형 데이터로 바꾼다면 더 좋은 예측이 될 수 있을거라는 생각이다.
- 석식계의 plot에서 식수인원이 0인 지점을 발견했고 모아보니 문화의 날에는 석식이 없어서 이를 feature로 추가했다.
- 최고기온이 아주 더운날만 따로 feature를 만들었다. 
- 공휴일 전날에 식수인원이 줄어드는 걸 eda를 통해 확인해서 timedelta feature(다음 영업일까지의 일수 차이)를 만들어서 이를 반영했다.
- 요일과 월, 주차가 식수인원에 영향이 미칠 거라는 생각에 시계열을 범주형 데이터로 바꾸어 추가했다.
- 평균기온도 연속형 자료에서 범주형으로 바꾸어 feature, 기온의 크기가 식수인원과 선형관계가 아니기 때문에 실수형 자료를 사용하는 것보다 one-hot을 쓰는게 맞다고 판단했다.
- 월급날도 식수인원에 영향을 미칠 수 있다고 생각했다.
- 메뉴는 라벨링을 하여 one-hot encoding을 하였다.
- 유의미한 라벨만 추릴 필요. 차원축소(103개의 차원) 알고리즘 사용, test data의 메뉴를 어떻게 처리할지.
- String 자료형을 처리하기 어려움, 자연어 처리도 애매한 게 n-gram embedding을 하려면 맥락이 갖춰진 string이 필요한데 단순 메뉴의 나열이라 처리가 힘들었다.
